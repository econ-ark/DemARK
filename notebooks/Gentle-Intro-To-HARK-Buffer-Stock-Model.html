

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>A Gentle Introduction to HARK: Buffer Stock Saving &#8212; DemARK</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/Gentle-Intro-To-HARK-Buffer-Stock-Model';</script>
    <link rel="shortcut icon" href="../_static/econ-ark-logo-small.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="A Gentle Introduction to HARK: The Perfect Foresight Model" href="Gentle-Intro-To-HARK-PerfForesightCRRA.html" />
    <link rel="prev" title="The Fisher Two-Period Optimal Consumption Problem" href="FisherTwoPeriod.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
    
    
      
    
    
    <img src="../_static/econ-ark-logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="../_static/econ-ark-logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    DemARK
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Alternative-Combos-Of-Parameter-Values.html">Alternative Combinations of Parameter Values</a></li>


<li class="toctree-l1"><a class="reference internal" href="ChangeLiqConstr.html">What Happens To the Consumption Function When A Liquidity Constraint is Tightened?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Chinese-Growth.html">Do Precautionary Motives Explain China’s High Saving Rate?</a></li>
<li class="toctree-l1"><a class="reference internal" href="DCEGM-Upper-Envelope.html">DCEGM Upper Envelope</a></li>






<li class="toctree-l1"><a class="reference internal" href="DiamondOLG.html">The Diamond OLG Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="FisherTwoPeriod.html">The Fisher Two-Period Optimal Consumption Problem</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">A Gentle Introduction to HARK: Buffer Stock Saving</a></li>
<li class="toctree-l1"><a class="reference internal" href="Gentle-Intro-To-HARK-PerfForesightCRRA.html">A Gentle Introduction to HARK: The Perfect Foresight Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="Harmenberg-Aggregation.html">A Demonstration of the Harmenberg (2021) Aggregation Method</a></li>







<li class="toctree-l1"><a class="reference internal" href="IncExpectationExample.html">The Persistent Shock Model and Income Expectations</a></li>
<li class="toctree-l1"><a class="reference internal" href="KeynesFriedmanModigliani.html">Introduction: Keynes, Friedman, Modigliani</a></li>
<li class="toctree-l1"><a class="reference internal" href="LC-Model-Expected-Vs-Realized-Income-Growth.html">Expectated vs Realized Income Growth in A Standard Life Cycle Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="LifeCycleModelTheoryVsData.html">The Life Cycle Model: Theory vs Data</a></li>

<li class="toctree-l1"><a class="reference internal" href="Lucas-Asset-Pricing-Model.html">Lucas Asset Pricing Model</a></li>





<li class="toctree-l1"><a class="reference internal" href="MPC-Out-of-Credit-vs-MPC-Out-of-Income.html">The MPC out of Credit vs the MPC Out of Income</a></li>
<li class="toctree-l1"><a class="reference internal" href="Micro-and-Macro-Implications-of-Very-Impatient-HHs.html">Micro- and Macroeconomic Implications of Very Impatient Households</a></li>
<li class="toctree-l1"><a class="reference internal" href="Nondurables-During-Great-Recession.html">Spending on Nondurables During the Great Recession</a></li>
<li class="toctree-l1"><a class="reference internal" href="PerfForesightCRRA-Approximation.html">Perfect Foresight CRRA Model - Approximation</a></li>
<li class="toctree-l1"><a class="reference internal" href="PerfForesightCRRA-SavingRate.html">Perfect Foresight CRRA Model - Saving Rate</a></li>
<li class="toctree-l1"><a class="reference internal" href="Structural-Estimates-From-Empirical-MPCs-Fagereng-et-al.html">Making Structural Estimates From Empirical Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="TractableBufferStock-Interactive.html">The Tractable Buffer Stock Model</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/econ-ark/DemARK/master?urlpath=lab/tree/./notebooks/Gentle-Intro-To-HARK-Buffer-Stock-Model.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li><a href="https://hub.econ-ark.org/hub/user-redirect/git-pull?repo=https%3A//github.com/econ-ark/DemARK&urlpath=lab/tree/DemARK/./notebooks/Gentle-Intro-To-HARK-Buffer-Stock-Model.ipynb&branch=master" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onJupyterHub"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_jupyterhub.svg">
  </span>
<span class="btn__text-container">JupyterHub</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/Gentle-Intro-To-HARK-Buffer-Stock-Model.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>A Gentle Introduction to HARK: Buffer Stock Saving</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-consumer-s-problem-with-transitory-and-permanent-shocks">The Consumer’s Problem with Transitory and Permanent Shocks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-description">Mathematical Description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#representing-the-income-shocks">Representing the Income Shocks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-new-parameters">The New Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#representation-in-hark">Representation in HARK</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-attributes-are-inherited-from-perfforesightconsumertype">Other Attributes are Inherited from PerfForesightConsumerType</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-discretized-probability-distribution">The Discretized Probability Distribution</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solution-by-backwards-induction">Solution by Backwards Induction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solving-the-problem">Solving the problem</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finite-or-infinite-horizon">Finite or Infinite Horizon?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-constructed-attributes">Changing Constructed Attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#buffer-stock-saving">Buffer Stock Saving?</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="a-gentle-introduction-to-hark-buffer-stock-saving">
<h1>A Gentle Introduction to HARK: Buffer Stock Saving<a class="headerlink" href="#a-gentle-introduction-to-hark-buffer-stock-saving" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="https://econ-ark.org/materials/gentle-intro-to-hark-buffer-stock-model#launch"><img alt="badge" src="https://img.shields.io/badge/Launch%20using%20-Econ--ARK-blue" /></a></p>
<p>This notebook explores the behavior of a consumer identical to the perfect foresight consumer described in <a class="reference external" href="https://econ-ark.org/materials/Gentle-Intro-To-HARK-PerfForesightCRRA">Gentle-Intro-To-HARK-PerfForesightCRRA</a> except that now the model incorporates income uncertainty.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This cell has a bit of initial setup.</span>
<span class="c1"># Click the &quot;Run&quot; button immediately above the notebook in order to execute the contents of any cell</span>
<span class="c1"># WARNING: Each cell in the notebook relies upon results generated by previous cells</span>
<span class="c1">#   The most common problem beginners have is to execute a cell before all its predecessors</span>
<span class="c1">#   If you do this, you can restart the kernel (see the &quot;Kernel&quot; menu above) and start over</span>
<span class="kn">from</span> <span class="nn">HARK.ConsumptionSaving.ConsIndShockModel</span> <span class="kn">import</span> <span class="n">IndShockConsumerType</span>
<span class="kn">from</span> <span class="nn">HARK.ConsumptionSaving.ConsIndShockModel</span> <span class="kn">import</span> <span class="n">PerfForesightConsumerType</span>
<span class="kn">from</span> <span class="nn">HARK.utilities</span> <span class="kn">import</span> <span class="n">plot_funcs</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>


<span class="k">def</span> <span class="nf">mystr</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">{:.4f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="the-consumer-s-problem-with-transitory-and-permanent-shocks">
<h2>The Consumer’s Problem with Transitory and Permanent Shocks<a class="headerlink" href="#the-consumer-s-problem-with-transitory-and-permanent-shocks" title="Permalink to this headline">#</a></h2>
<section id="mathematical-description">
<h3>Mathematical Description<a class="headerlink" href="#mathematical-description" title="Permalink to this headline">#</a></h3>
<p>Our new type of consumer receives two income shocks at the beginning of each period.  Permanent income would grow by a factor <span class="math notranslate nohighlight">\(\Gamma\)</span> in the absence of any shock , but its growth is modified by a shock, <span class="math notranslate nohighlight">\(\psi_{t+1}\)</span>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-f3231c92-5845-419a-a657-95295522484c">
<span class="eqno">(11)<a class="headerlink" href="#equation-f3231c92-5845-419a-a657-95295522484c" title="Permalink to this equation">#</a></span>\[\begin{align}
 P_{t+1} &amp; = \Gamma P_{t}\psi_{t+1}
\end{align}\]</div>
<p>whose expected (mean) value is <span class="math notranslate nohighlight">\(\mathbb{E}_{t}[\psi_{t+1}]=1\)</span>.  Actual income received <span class="math notranslate nohighlight">\(Y\)</span> is equal to permanent income <span class="math notranslate nohighlight">\(P\)</span> multiplied by a transitory shock <span class="math notranslate nohighlight">\(\theta\)</span>:</p>
<div class="amsmath math notranslate nohighlight" id="equation-f1ec958d-959e-4283-adef-ad91cf7229f6">
<span class="eqno">(12)<a class="headerlink" href="#equation-f1ec958d-959e-4283-adef-ad91cf7229f6" title="Permalink to this equation">#</a></span>\[\begin{align}
 Y_{t+1} &amp; = \Gamma P_{t+1}\theta_{t+1}
\end{align}\]</div>
<p>where again <span class="math notranslate nohighlight">\(\mathbb{E}_{t}[\theta_{t+1}] = 1\)</span>.</p>
<p>As with the perfect foresight problem, this model can be rewritten in terms of <em>normalized</em> variables, e.g. the ratio of ‘market resources’ <span class="math notranslate nohighlight">\(M_{t}\)</span> (wealth plus current income) to permanent income is <span class="math notranslate nohighlight">\(m_t \equiv M_t/P_t\)</span>.  (See <a class="reference external" href="http://econ.jhu.edu/people/ccarroll/papers/BufferStockTheory/">here</a> for the theory).  In addition, lenders may set a limit on borrowing: The ratio <span class="math notranslate nohighlight">\(a_{t}\)</span> of end-of-period assets to permanent income <span class="math notranslate nohighlight">\(A_t/P_t\)</span> must be greater than <span class="math notranslate nohighlight">\(\underline{a} \leq 0\)</span>. (So, if <span class="math notranslate nohighlight">\(\underline{a}=-0.3\)</span>, the consumer cannot borrow more than 30 percent of their permanent income).</p>
<p>The consumer’s (normalized) problem turns out to be:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{eqnarray*}
v_t(m_t) &amp;=&amp; \max_{c_t} ~~u(c_t) + \beta  \mathbb{E} [(\Gamma_{t+1}\psi_{t+1})^{1-\rho} v_{t+1}(m_{t+1}) ], \\
 &amp; \text{s.t.} &amp; \\
a_t &amp;=&amp; m_t - c_t, \\
a_t &amp;\geq&amp; \underline{a}, \\
m_{t+1} &amp;=&amp; a_t  R/(\Gamma_{t+1} \psi_{t+1}) + \theta_{t+1}.
\end{eqnarray*}\]</div>
<p>For present purposes, we assume that the transitory and permanent shocks are independent.  The permanent shock is assumed to be (approximately) lognormal, while the transitory shock has two components: A probability <span class="math notranslate nohighlight">\(\wp\)</span> that the consumer is unemployed, in which case <span class="math notranslate nohighlight">\(\theta^{u}=\underline{\theta}\)</span>, and a probability <span class="math notranslate nohighlight">\((1-\wp)\)</span> of a shock that is a lognormal with a mean chosen so that <span class="math notranslate nohighlight">\(\mathbb{E}_{t}[\theta_{t+n}]=1\)</span>.</p>
</section>
<section id="representing-the-income-shocks">
<h3>Representing the Income Shocks<a class="headerlink" href="#representing-the-income-shocks" title="Permalink to this headline">#</a></h3>
<p>Computers are discrete devices; even if somehow we knew with certainty that the transitory and permanent shocks were, say, continuously lognormally distributed, in order to be represented on a computer those distributions would need to be approximated by a finite set of points.  A large literature in numerical computation explores ways to construct such approximations; probably the easiest discretization to understand is the equiprobable approximation, in which the continuous distribution is represented by a set of <span class="math notranslate nohighlight">\(N\)</span> outcomes that are equally likely to occur.</p>
<p>In the case of a single variable (say, the permanent shock <span class="math notranslate nohighlight">\(\psi\)</span>), and when the number of equiprobable points is, say, 5, the procedure is to construct a list: <span class="math notranslate nohighlight">\(\psi^{0}\)</span> is the mean value of the continuous <span class="math notranslate nohighlight">\(\psi\)</span> given that the draw of <span class="math notranslate nohighlight">\(\psi\)</span> is in the bottom 20 percent of the distribution of the continuous <span class="math notranslate nohighlight">\(\psi\)</span>.  <span class="math notranslate nohighlight">\(\psi^{1}\)</span> is the mean value of <span class="math notranslate nohighlight">\(\psi\)</span> given that the draw is between the 20th and 40th percentiles, and so on.  Having constructed these, the approximation to the expectation of some expression <span class="math notranslate nohighlight">\(g(\psi)\)</span> can be very quickly calculated by:</p>
<div class="math notranslate nohighlight">
\[
\mathbb{E}_{t}[g(\psi)] \equiv \int_{0}^{\infty} g(\psi) dF_{\psi} \approx (1/N) \sum_{i=0}^{N-1} g(\psi^{i}).
\]</div>
<p>(For a graphical depiction of a particular instance of this, see <a class="reference external" href="http://www.econ2.jhu.edu/people/ccarroll/SolvingMicroDSOPs/#discreteApprox">SolvingMicroDSOPs/#discreteApprox</a>.)</p>
</section>
</section>
<section id="the-new-parameters">
<h2>The New Parameters<a class="headerlink" href="#the-new-parameters" title="Permalink to this headline">#</a></h2>
<p>In addition to the parameters required for the perfect foresight model (like the time preference factor <span class="math notranslate nohighlight">\(\beta\)</span>), under the assumptions above, we need to choose values for the following extra parameters that describe the income shock distribution and the artificial borrowing constraint.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Param</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Code</p></th>
<th class="text-center head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p><span class="math notranslate nohighlight">\(\underline{a}\)</span></p></td>
<td><p>Artificial borrowing constraint</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{BoroCnstArt}\)</span></p></td>
<td class="text-center"><p>0.0</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><span class="math notranslate nohighlight">\(\sigma_\psi\)</span></p></td>
<td><p>Underlying stdev of permanent income shocks</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{PermShkStd}\)</span></p></td>
<td class="text-center"><p>0.1</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><span class="math notranslate nohighlight">\(\sigma_\theta^{e}\)</span></p></td>
<td><p>Underlying stdev of transitory income shocks</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{TranShkStd}\)</span></p></td>
<td class="text-center"><p>0.1</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><span class="math notranslate nohighlight">\(N_\psi\)</span></p></td>
<td><p>Number of discrete permanent income shocks</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{PermShkCount}\)</span></p></td>
<td class="text-center"><p>7</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><span class="math notranslate nohighlight">\(N_\theta\)</span></p></td>
<td><p>Number of discrete transitory income shocks</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{TranShkCount}\)</span></p></td>
<td class="text-center"><p>7</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p><span class="math notranslate nohighlight">\(\wp\)</span></p></td>
<td><p>Unemployment probability</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{UnempPrb}\)</span></p></td>
<td class="text-center"><p>0.05</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p><span class="math notranslate nohighlight">\(\underline{\theta}\)</span></p></td>
<td><p>Transitory shock when unemployed</p></td>
<td><p><span class="math notranslate nohighlight">\(\texttt{IncUnemp}\)</span></p></td>
<td class="text-center"><p>0.3</p></td>
</tr>
</tbody>
</table>
</section>
<section id="representation-in-hark">
<h2>Representation in HARK<a class="headerlink" href="#representation-in-hark" title="Permalink to this headline">#</a></h2>
<p>HARK agents with this kind of problem are instances of the class <span class="math notranslate nohighlight">\(\texttt{IndShockConsumerType}\)</span>, which is constructed by “inheriting” the properties of the <span class="math notranslate nohighlight">\(\texttt{PerfForesightConsumerType}\)</span> and then adding only the <em>new</em> information required:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This cell defines a parameter dictionary for making an instance of IndShockConsumerType.</span>


<span class="n">IndShockDictionary</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;PermShkStd&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">0.1</span>
    <span class="p">],</span>  <span class="c1"># ... by specifying the new parameters for constructing the income process.</span>
    <span class="s2">&quot;PermShkCount&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">&quot;TranShkStd&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">],</span>
    <span class="s2">&quot;TranShkCount&quot;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="s2">&quot;UnempPrb&quot;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="c1"># ... and income for unemployed people (30 percent of &quot;permanent&quot; income)</span>
    <span class="s2">&quot;IncUnemp&quot;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
    <span class="c1"># ... and specifying the location of the borrowing constraint (0 means no borrowing is allowed)</span>
    <span class="s2">&quot;BoroCnstArt&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="s2">&quot;cycles&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>  <span class="c1"># signifies an infinite horizon solution (see below)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="other-attributes-are-inherited-from-perfforesightconsumertype">
<h2>Other Attributes are Inherited from PerfForesightConsumerType<a class="headerlink" href="#other-attributes-are-inherited-from-perfforesightconsumertype" title="Permalink to this headline">#</a></h2>
<p>You can see all the <strong>attributes</strong> of an object in Python by using the <code class="docutils literal notranslate"><span class="pre">dir()</span></code> command. From the output of that command below, you can see that many of the model variables are now attributes of this object, along with many other attributes that are outside the scope of this tutorial.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pfc</span> <span class="o">=</span> <span class="n">PerfForesightConsumerType</span><span class="p">()</span>
<span class="nb">dir</span><span class="p">(</span><span class="n">pfc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;AgentCount&#39;,
 &#39;BoroCnstArt&#39;,
 &#39;CRRA&#39;,
 &#39;DiscFac&#39;,
 &#39;LivPrb&#39;,
 &#39;MaxKinks&#39;,
 &#39;PerfMITShk&#39;,
 &#39;PermGroFac&#39;,
 &#39;PermGroFacAgg&#39;,
 &#39;RNG&#39;,
 &#39;Rfree&#39;,
 &#39;T_age&#39;,
 &#39;T_cycle&#39;,
 &#39;__class__&#39;,
 &#39;__delattr__&#39;,
 &#39;__dict__&#39;,
 &#39;__dir__&#39;,
 &#39;__doc__&#39;,
 &#39;__eq__&#39;,
 &#39;__format__&#39;,
 &#39;__ge__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__gt__&#39;,
 &#39;__hash__&#39;,
 &#39;__init__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__le__&#39;,
 &#39;__lt__&#39;,
 &#39;__module__&#39;,
 &#39;__ne__&#39;,
 &#39;__new__&#39;,
 &#39;__reduce__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__repr__&#39;,
 &#39;__setattr__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__str__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;__weakref__&#39;,
 &#39;aNrmInitMean&#39;,
 &#39;aNrmInitStd&#39;,
 &#39;add_to_time_inv&#39;,
 &#39;add_to_time_vary&#39;,
 &#39;assign_parameters&#39;,
 &#39;cFunc_terminal_&#39;,
 &#39;check_AIC&#39;,
 &#39;check_FHWC&#39;,
 &#39;check_GICRaw&#39;,
 &#39;check_RIC&#39;,
 &#39;check_condition&#39;,
 &#39;check_conditions&#39;,
 &#39;check_elements_of_time_vary_are_lists&#39;,
 &#39;check_restrictions&#39;,
 &#39;clear_history&#39;,
 &#39;controls&#39;,
 &#39;cycles&#39;,
 &#39;del_from_time_inv&#39;,
 &#39;del_from_time_vary&#39;,
 &#39;get_Rfree&#39;,
 &#39;get_controls&#39;,
 &#39;get_mortality&#39;,
 &#39;get_parameter&#39;,
 &#39;get_poststates&#39;,
 &#39;get_shocks&#39;,
 &#39;get_states&#39;,
 &#39;history&#39;,
 &#39;initialize_sim&#39;,
 &#39;make_shock_history&#39;,
 &#39;newborn_init_history&#39;,
 &#39;pLvlInitMean&#39;,
 &#39;pLvlInitStd&#39;,
 &#39;parameters&#39;,
 &#39;post_solve&#39;,
 &#39;pre_solve&#39;,
 &#39;pseudo_terminal&#39;,
 &#39;quiet&#39;,
 &#39;read_shocks&#39;,
 &#39;read_shocks_from_history&#39;,
 &#39;reset_rng&#39;,
 &#39;seed&#39;,
 &#39;shock_history&#39;,
 &#39;shock_vars&#39;,
 &#39;shock_vars_&#39;,
 &#39;shocks&#39;,
 &#39;sim_birth&#39;,
 &#39;sim_death&#39;,
 &#39;sim_one_period&#39;,
 &#39;simulate&#39;,
 &#39;solution_terminal&#39;,
 &#39;solution_terminal_&#39;,
 &#39;solve&#39;,
 &#39;solve_one_period&#39;,
 &#39;state_now&#39;,
 &#39;state_prev&#39;,
 &#39;state_vars&#39;,
 &#39;time_inv&#39;,
 &#39;time_inv_&#39;,
 &#39;time_vary&#39;,
 &#39;time_vary_&#39;,
 &#39;tolerance&#39;,
 &#39;track_vars&#39;,
 &#39;transition&#39;,
 &#39;unpack&#39;,
 &#39;unpack_cFunc&#39;,
 &#39;update_Rfree&#39;,
 &#39;update_solution_terminal&#39;,
 &#39;vFunc_terminal_&#39;,
 &#39;verbose&#39;]
</pre></div>
</div>
</div>
</div>
<p>In python terminology, <code class="docutils literal notranslate"><span class="pre">IndShockConsumerType</span></code> is a <strong>superclass</strong> of <code class="docutils literal notranslate"><span class="pre">PerfForesightConsumerType</span></code>. This means that it builds on the functionality of its parent type (including, for example, the definition of the utility function). You can find the superclasses of a type in Python using the <code class="docutils literal notranslate"><span class="pre">__bases__</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">IndShockConsumerType</span><span class="o">.</span><span class="vm">__bases__</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(HARK.ConsumptionSaving.ConsIndShockModel.PerfForesightConsumerType,)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># So, let&#39;s create an instance of the IndShockConsumerType</span>
<span class="n">IndShockExample</span> <span class="o">=</span> <span class="n">IndShockConsumerType</span><span class="p">(</span><span class="o">**</span><span class="n">IndShockDictionary</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>As before, we need to import the relevant subclass of <span class="math notranslate nohighlight">\(\texttt{AgentType}\)</span> into our workspace, then create an instance by passing the dictionary to the class as if the class were a function.</p>
</section>
<section id="the-discretized-probability-distribution">
<h2>The Discretized Probability Distribution<a class="headerlink" href="#the-discretized-probability-distribution" title="Permalink to this headline">#</a></h2>
<p>The scatterplot below shows how the discretized probability distribution is represented in HARK: The lognormal distribution is represented by a set of equiprobable point masses.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot values for equiprobable distribution of permanent shocks</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">IndShockExample</span><span class="o">.</span><span class="n">PermShkDstn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">atoms</span><span class="p">,</span> <span class="n">IndShockExample</span><span class="o">.</span><span class="n">PermShkDstn</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pmv</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Value&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Probability Mass&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5d8d07e5dff8d9bdc085bc4a541d721259bb199166518990f67224002a331a41.png" src="../_images/5d8d07e5dff8d9bdc085bc4a541d721259bb199166518990f67224002a331a41.png" />
</div>
</div>
<p>This distribution was created, using the parameters in the dictionary above, when the <code class="docutils literal notranslate"><span class="pre">IndShockConsumerType</span></code> object was initialized.</p>
</section>
<section id="solution-by-backwards-induction">
<h2>Solution by Backwards Induction<a class="headerlink" href="#solution-by-backwards-induction" title="Permalink to this headline">#</a></h2>
<p>HARK solves this problem using <em>backwards induction</em>: It will derive a solution for each period (<span class="math notranslate nohighlight">\(t\)</span>) by finding a mapping between specific values of market resources <span class="math notranslate nohighlight">\(\{m[0],m[1],...\}\)</span> and the corresponding optimal consumption <span class="math notranslate nohighlight">\(\{c[0],c[1],...\}\)</span>. The function that “connects the dots” will be stored in a variable named <code class="docutils literal notranslate"><span class="pre">cFunc</span></code>.</p>
<p>Backwards induction requires a “terminal” (last; final) period to work backwards from.  <code class="docutils literal notranslate"><span class="pre">IndShockExample</span></code> constructed above did not specify a terminal consumption function, and consequently it uses the default terminal function in which all resources are consumed: <span class="math notranslate nohighlight">\(c_{T} = m_{t}\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;HARK.ConsumptionSaving.ConsIndShockModel.ConsumerSolution at 0x21f699975e0&gt;
</pre></div>
</div>
</div>
</div>
<p>The consumption function <code class="docutils literal notranslate"><span class="pre">cFunc</span></code> is defined by <em>piecewise linear interpolation</em>.</p>
<p>It is defined by a series of <span class="math notranslate nohighlight">\((m,c)\)</span> points on a grid; the value of the function for any <span class="math notranslate nohighlight">\(m\)</span> is the <span class="math notranslate nohighlight">\(c\)</span> determined by the line connecting the nearest defined gridpoints.</p>
<p>You can see below that in the terminal period, <span class="math notranslate nohighlight">\(c = m\)</span>; the agent consumes all available resources.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot terminal consumption function</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
    <span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span><span class="o">.</span><span class="n">cFunc</span><span class="o">.</span><span class="n">x_list</span><span class="p">,</span>
    <span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span><span class="o">.</span><span class="n">cFunc</span><span class="o">.</span><span class="n">y_list</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s2">&quot;k&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
    <span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span><span class="o">.</span><span class="n">cFunc</span><span class="o">.</span><span class="n">x_list</span><span class="p">,</span>
    <span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span><span class="o">.</span><span class="n">cFunc</span><span class="o">.</span><span class="n">y_list</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x21f205eefb0&gt;
</pre></div>
</div>
<img alt="../_images/7e3bfbb96029afc0cd92d8cdc73222602acc98ae2c291123acc1fdc11802dc84.png" src="../_images/7e3bfbb96029afc0cd92d8cdc73222602acc98ae2c291123acc1fdc11802dc84.png" />
</div>
</div>
<p>The solution also has a representation of a <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">function</span></code>, the value <code class="docutils literal notranslate"><span class="pre">v(m)</span></code> as a function of available market resources. Because the agent consumes all their resources in the last period, the value function for the terminal solution looks just like the CRRA utility function: <span class="math notranslate nohighlight">\(v_{T}(m) = u(m)\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Final consumption function c=m</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span><span class="o">.</span><span class="n">vFunc</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x21f2065fbb0&gt;]
</pre></div>
</div>
<img alt="../_images/c50d3e70cbc96b42081363b8aa24085533779d40608ce91c950748b39a9a3094.png" src="../_images/c50d3e70cbc96b42081363b8aa24085533779d40608ce91c950748b39a9a3094.png" />
</div>
</div>
</section>
<section id="solving-the-problem">
<h2>Solving the problem<a class="headerlink" href="#solving-the-problem" title="Permalink to this headline">#</a></h2>
<p>This solution is generated by invoking <code class="docutils literal notranslate"><span class="pre">solve()</span></code> which is a <strong>method</strong> that is an <strong>attribute</strong> of the <code class="docutils literal notranslate"><span class="pre">IndShockExample</span></code> object. <strong>Methods</strong> in Python are supposed to have <strong>documentation</strong> that tell you what they do. You can read the documentation for methods and other attributes in HARK with the built-in Python <code class="docutils literal notranslate"><span class="pre">help()</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">IndShockExample</span><span class="o">.</span><span class="n">solve</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on method solve in module HARK.core:

solve(verbose=False) method of HARK.ConsumptionSaving.ConsIndShockModel.IndShockConsumerType instance
    Solve the model for this instance of an agent type by backward induction.
    Loops through the sequence of one period problems, passing the solution
    from period t+1 to the problem for period t.
    
    Parameters
    ----------
    verbose : boolean
        If True, solution progress is printed to screen.
    
    Returns
    -------
    none
</pre></div>
</div>
</div>
</div>
<section id="finite-or-infinite-horizon">
<h3>Finite or Infinite Horizon?<a class="headerlink" href="#finite-or-infinite-horizon" title="Permalink to this headline">#</a></h3>
<p><span class="math notranslate nohighlight">\(\texttt{ConsIndShockType}\)</span> can solve either finite-horizon (e.g., life-cycle) problems, or infinite-horizon problems (where the problem is the same in every period).  Elsewhere you can find documentation about the finite horizon solution; here we are interested in the infinite-horizon solution which is obtained (by definition) when iterating one more period yields a solution that is essentially the same.  In the dictionary above we signaled to HARK that we want the infinite horizon solution by setting the “cycles” paramter to zero:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">IndShockExample</span><span class="o">.</span><span class="n">cycles</span>  <span class="c1"># Infinite horizon solution is computed when cycles = 0</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solve It</span>
<span class="c1"># Verbose prints progress as solution proceeds</span>
<span class="n">IndShockExample</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFRaw                 = 0.984539 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFNrm                 = 0.993777 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFAggLivPrb           = 0.964848 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thorn = APF            = 0.994384 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PermGroFacAdj          = 1.000611 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>uInvEpShkuInv          = 0.990704 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VAF                    = 0.932054 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WRPF                   = 0.213705 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiscFacGPFNrmMax       = 0.972061 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiscFacGPFAggLivPrbMax = 1.010600 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Finished cycle #1 in 0.0019991397857666016 seconds, solution distance = 100.0
Finished cycle #2 in 0.002999544143676758 seconds, solution distance = 10.088015890333441
Finished cycle #3 in 0.00099945068359375 seconds, solution distance = 3.3534114736589693
Finished cycle #4 in 0.0020008087158203125 seconds, solution distance = 1.6699529613894297
Finished cycle #5 in 0.001001119613647461 seconds, solution distance = 0.9967360674688521
Finished cycle #6 in 0.0009999275207519531 seconds, solution distance = 0.6602619046109499
Finished cycle #7 in 0.0019981861114501953 seconds, solution distance = 0.46809484231437626
Finished cycle #8 in 0.001999378204345703 seconds, solution distance = 0.34807706501006663
Finished cycle #9 in 0.0010025501251220703 seconds, solution distance = 0.2681341538834978
Finished cycle #10 in 0.0019998550415039062 seconds, solution distance = 0.21223248168627507
Finished cycle #11 in 0.0009984970092773438 seconds, solution distance = 0.17162798586899441
Finished cycle #12 in 0.0019998550415039062 seconds, solution distance = 0.14121714401876462
Finished cycle #13 in 0.0010006427764892578 seconds, solution distance = 0.1178611202393447
Finished cycle #14 in 0.0019996166229248047 seconds, solution distance = 0.09954374358267515
Finished cycle #15 in 0.0019998550415039062 seconds, solution distance = 0.08492077965589928
Finished cycle #16 in 0.00099945068359375 seconds, solution distance = 0.07306820983636797
Finished cycle #17 in 0.0020020008087158203 seconds, solution distance = 0.06333371450893654
Finished cycle #18 in 0.0019981861114501953 seconds, solution distance = 0.055246317280595036
Finished cycle #19 in 0.0009999275207519531 seconds, solution distance = 0.048458869265386006
Finished cycle #20 in 0.0020012855529785156 seconds, solution distance = 0.04271110960013802
Finished cycle #21 in 0.0019996166229248047 seconds, solution distance = 0.03780486582230225
Finished cycle #22 in 0.0009996891021728516 seconds, solution distance = 0.03358704056809447
Finished cycle #23 in 0.0019991397857666016 seconds, solution distance = 0.02993783577570497
Finished cycle #24 in 0.0020017623901367188 seconds, solution distance = 0.026762425833982917
Finished cycle #25 in 0.00099945068359375 seconds, solution distance = 0.023984959744489665
Finished cycle #26 in 0.0019991397857666016 seconds, solution distance = 0.021544181039296006
Finished cycle #27 in 0.0010001659393310547 seconds, solution distance = 0.019390181762535263
Finished cycle #28 in 0.002001047134399414 seconds, solution distance = 0.017481967390489128
Finished cycle #29 in 0.0020046234130859375 seconds, solution distance = 0.015785611379662612
Finished cycle #30 in 0.0010006427764892578 seconds, solution distance = 0.014272839895086431
Finished cycle #31 in 0.0020017623901367188 seconds, solution distance = 0.012919936192925974
Finished cycle #32 in 0.00099945068359375 seconds, solution distance = 0.011706884785617877
Finished cycle #33 in 0.0019981861114501953 seconds, solution distance = 0.010616703056520294
Finished cycle #34 in 0.0010013580322265625 seconds, solution distance = 0.009634898474986997
Finished cycle #35 in 0.0019989013671875 seconds, solution distance = 0.008749044420678587
Finished cycle #36 in 0.002001523971557617 seconds, solution distance = 0.007948413988064118
Finished cycle #37 in 0.0009989738464355469 seconds, solution distance = 0.00722372447082309
Finished cycle #38 in 0.0025086402893066406 seconds, solution distance = 0.006566906564932307
Finished cycle #39 in 0.0010042190551757812 seconds, solution distance = 0.005970916077072008
Finished cycle #40 in 0.001996755599975586 seconds, solution distance = 0.005429579002498741
Finished cycle #41 in 0.002000570297241211 seconds, solution distance = 0.004937463273915199
Finished cycle #42 in 0.0009989738464355469 seconds, solution distance = 0.004489772052598262
Finished cycle #43 in 0.0020020008087158203 seconds, solution distance = 0.004082254546442954
Finished cycle #44 in 0.0020003318786621094 seconds, solution distance = 0.003711131170160087
Finished cycle #45 in 0.0010001659393310547 seconds, solution distance = 0.003373030500466001
Finished cycle #46 in 0.0019979476928710938 seconds, solution distance = 0.0030649359736791837
Finished cycle #47 in 0.0009999275207519531 seconds, solution distance = 0.0027841406665807256
Finished cycle #48 in 0.0019991397857666016 seconds, solution distance = 0.0025282088157077
Finished cycle #49 in 0.002000093460083008 seconds, solution distance = 0.0022949429754119954
Finished cycle #50 in 0.0010030269622802734 seconds, solution distance = 0.0020823559119378388
Finished cycle #51 in 0.0019981861114501953 seconds, solution distance = 0.0018886464739744646
Finished cycle #52 in 0.00099945068359375 seconds, solution distance = 0.0017121788176552855
Finished cycle #53 in 0.0019991397857666016 seconds, solution distance = 0.0015514644867238303
Finished cycle #54 in 0.0020008087158203125 seconds, solution distance = 0.0014051468883895524
Finished cycle #55 in 0.0010006427764892578 seconds, solution distance = 0.0012719878080496017
Finished cycle #56 in 0.002001047134399414 seconds, solution distance = 0.0011508556554602478
Finished cycle #57 in 0.0019974708557128906 seconds, solution distance = 0.0010407151830347239
Finished cycle #58 in 0.0010018348693847656 seconds, solution distance = 0.0009406184572178233
Finished cycle #59 in 0.0019986629486083984 seconds, solution distance = 0.000849696897950114
Finished cycle #60 in 0.0010006427764892578 seconds, solution distance = 0.0007671542298588463
Finished cycle #61 in 0.0019996166229248047 seconds, solution distance = 0.0006922602130656763
Finished cycle #62 in 0.0020012855529785156 seconds, solution distance = 0.0006243450421976604
Finished cycle #63 in 0.0009984970092773438 seconds, solution distance = 0.0005627943195647411
Finished cycle #64 in 0.003002166748046875 seconds, solution distance = 0.0005070445234878207
Finished cycle #65 in 0.002000093460083008 seconds, solution distance = 0.0004565789051689251
Finished cycle #66 in 0.0029976367950439453 seconds, solution distance = 0.0004109237583813652
Finished cycle #67 in 0.0020012855529785156 seconds, solution distance = 0.00036964501506320246
Finished cycle #68 in 0.0010004043579101562 seconds, solution distance = 0.0003323451276209255
Finished cycle #69 in 0.002001047134399414 seconds, solution distance = 0.0002986602050079057
Finished cycle #70 in 0.0009980201721191406 seconds, solution distance = 0.0002682573749814843
Finished cycle #71 in 0.002000570297241211 seconds, solution distance = 0.00024083234929284103
Finished cycle #72 in 0.0019996166229248047 seconds, solution distance = 0.00021610717220754694
Finished cycle #73 in 0.0009992122650146484 seconds, solution distance = 0.0001938281357389826
Finished cycle #74 in 0.0020008087158203125 seconds, solution distance = 0.0001737638473713332
Finished cycle #75 in 0.0010008811950683594 seconds, solution distance = 0.00015570343805260123
Finished cycle #76 in 0.0019991397857666016 seconds, solution distance = 0.00013945489982702952
Finished cycle #77 in 0.0019991397857666016 seconds, solution distance = 0.00012484354371977702
Finished cycle #78 in 0.0010008811950683594 seconds, solution distance = 0.00011171056964087711
Finished cycle #79 in 0.002001047134399414 seconds, solution distance = 9.991174074253095e-05
Finished cycle #80 in 0.0009989738464355469 seconds, solution distance = 8.931615549556682e-05
Finished cycle #81 in 0.0019996166229248047 seconds, solution distance = 7.980511119853873e-05
Finished cycle #82 in 0.0020024776458740234 seconds, solution distance = 7.127105311699466e-05
Finished cycle #83 in 0.0009987354278564453 seconds, solution distance = 6.361660386744461e-05
Finished cycle #84 in 0.0019986629486083984 seconds, solution distance = 5.675366786039859e-05
Finished cycle #85 in 0.0009999275207519531 seconds, solution distance = 5.0602606059158006e-05
Finished cycle #86 in 0.0020041465759277344 seconds, solution distance = 4.5091476413183784e-05
Finished cycle #87 in 0.001995563507080078 seconds, solution distance = 4.0155335672587e-05
Finished cycle #88 in 0.0010001659393310547 seconds, solution distance = 3.573559836667073e-05
Finished cycle #89 in 0.002003908157348633 seconds, solution distance = 3.177944908294705e-05
Finished cycle #90 in 0.001001596450805664 seconds, solution distance = 2.8239304256771902e-05
Finished cycle #91 in 0.002000093460083008 seconds, solution distance = 2.507231993220671e-05
Finished cycle #92 in 0.001997709274291992 seconds, solution distance = 2.2239942116364375e-05
Finished cycle #93 in 0.0010006427764892578 seconds, solution distance = 1.970749654489623e-05
Finished cycle #94 in 0.0020020008087158203 seconds, solution distance = 1.7443814823714376e-05
Finished cycle #95 in 0.0009982585906982422 seconds, solution distance = 1.5420894161621845e-05
Finished cycle #96 in 0.001999378204345703 seconds, solution distance = 1.361358793827705e-05
Finished cycle #97 in 0.0010001659393310547 seconds, solution distance = 1.1999324726730265e-05
Finished cycle #98 in 0.0025060176849365234 seconds, solution distance = 1.0557853297399333e-05
Finished cycle #99 in 0.0010046958923339844 seconds, solution distance = 9.271011537581586e-06
Finished cycle #100 in 0.0019998550415039062 seconds, solution distance = 8.122517190400913e-06
Finished cycle #101 in 0.0010001659393310547 seconds, solution distance = 7.097778525810838e-06
Finished cycle #102 in 0.002001523971557617 seconds, solution distance = 6.183723240127392e-06
Finished cycle #103 in 0.001997709274291992 seconds, solution distance = 5.368643900549586e-06
Finished cycle #104 in 0.0010001659393310547 seconds, solution distance = 4.642058520687442e-06
Finished cycle #105 in 0.002001523971557617 seconds, solution distance = 3.994584801603196e-06
Finished cycle #106 in 0.0010004043579101562 seconds, solution distance = 3.4178268535356437e-06
Finished cycle #107 in 0.0019981861114501953 seconds, solution distance = 2.9042732037076746e-06
Finished cycle #108 in 0.0020029544830322266 seconds, solution distance = 2.4472050093038433e-06
Finished cycle #109 in 0.0009989738464355469 seconds, solution distance = 2.0406135354811283e-06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Finished cycle #110 in 0.002000093460083008 seconds, solution distance = 1.679126009790366e-06
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Finished cycle #111 in 0.0029981136322021484 seconds, solution distance = 1.3579390092388621e-06
Finished cycle #112 in 0.0020017623901367188 seconds, solution distance = 1.0727586690073565e-06
Finished cycle #113 in 0.0019991397857666016 seconds, solution distance = 8.197470693360742e-07
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot_funcs([list],min,max) takes a [list] of functions and plots their values over a range from min to max</span>
<span class="n">plot_funcs</span><span class="p">(</span>
    <span class="p">[</span><span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cFunc</span><span class="p">,</span> <span class="n">IndShockExample</span><span class="o">.</span><span class="n">solution_terminal</span><span class="o">.</span><span class="n">cFunc</span><span class="p">],</span>
    <span class="mf">0.0</span><span class="p">,</span>
    <span class="mf">10.0</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e1c2c799b826f7e66b35895756c7740a1c1858418558818d7ae65ff876011d04.png" src="../_images/e1c2c799b826f7e66b35895756c7740a1c1858418558818d7ae65ff876011d04.png" />
</div>
</div>
</section>
</section>
<section id="changing-constructed-attributes">
<h2>Changing Constructed Attributes<a class="headerlink" href="#changing-constructed-attributes" title="Permalink to this headline">#</a></h2>
<p>In the parameter dictionary above, we chose values for HARK to use when constructing its numerical representation of <span class="math notranslate nohighlight">\(F_t\)</span>, the joint distribution of permanent and transitory income shocks. When <span class="math notranslate nohighlight">\(\texttt{IndShockExample}\)</span> was created, those parameters (<span class="math notranslate nohighlight">\(\texttt{TranShkStd}\)</span>, etc) were used by the <strong>constructor</strong> or <strong>initialization</strong> method of <span class="math notranslate nohighlight">\(\texttt{IndShockConsumerType}\)</span> to construct an attribute called <span class="math notranslate nohighlight">\(\texttt{IncomeDstn}\)</span>.</p>
<p>Suppose you were interested in changing (say) the amount of permanent income risk.  From the section above, you might think that you could simply change the attribute <span class="math notranslate nohighlight">\(\texttt{TranShkStd}\)</span>, solve the model again, and it would work.</p>
<p>That’s <em>almost</em> true– there’s one extra step. <span class="math notranslate nohighlight">\(\texttt{TranShkStd}\)</span> is a primitive input, but it’s not the thing you <em>actually</em> want to change. Changing <span class="math notranslate nohighlight">\(\texttt{TranShkStd}\)</span> doesn’t actually update the income distribution… unless you tell it to (just like changing an agent’s preferences does not change the consumption function that was stored for the old set of parameters – until you invoke the <span class="math notranslate nohighlight">\(\texttt{solve}\)</span> method again).  In the cell below, we invoke the method <span class="math notranslate nohighlight">\(\texttt{update_income_process}\)</span> so HARK knows to reconstruct the attribute <span class="math notranslate nohighlight">\(\texttt{IncomeDstn}\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">OtherExample</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span>
    <span class="n">IndShockExample</span>
<span class="p">)</span>  <span class="c1"># Make a copy so we can compare consumption functions</span>
<span class="n">OtherExample</span><span class="o">.</span><span class="n">PermShkStd</span> <span class="o">=</span> <span class="p">[</span>
    <span class="mf">0.2</span>
<span class="p">]</span>  <span class="c1"># Double permanent income risk (note that it&#39;s a one element list)</span>
<span class="c1"># Call the method to reconstruct the representation of F_t</span>
<span class="n">OtherExample</span><span class="o">.</span><span class="n">update_income_process</span><span class="p">()</span>
<span class="n">OtherExample</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFRaw                 = 0.984539 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFNrm                 = 1.021965 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFAggLivPrb           = 0.964848 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thorn = APF            = 0.994384 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PermGroFacAdj          = 0.973012 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>uInvEpShkuInv          = 0.963379 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VAF                    = 0.906347 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WRPF                   = 0.213705 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiscFacGPFNrmMax       = 0.919178 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiscFacGPFAggLivPrbMax = 1.010600 
</pre></div>
</div>
</div>
</div>
<p>In the cell below, use your blossoming HARK skills to plot the consumption function for <span class="math notranslate nohighlight">\(\texttt{IndShockExample}\)</span> and <span class="math notranslate nohighlight">\(\texttt{OtherExample}\)</span> on the same figure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the remainder of this cell to plot the IndShockExample and OtherExample consumption functions against each other</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="buffer-stock-saving">
<h2>Buffer Stock Saving?<a class="headerlink" href="#buffer-stock-saving" title="Permalink to this headline">#</a></h2>
<p>There are some combinations of parameter values under which problems of the kind specified above have “degenerate” solutions; for example, if consumers are so patient that they always prefer deferring consumption to the future, the limiting consumption rule can be <span class="math notranslate nohighlight">\(c(m)=0\)</span>.</p>
<p>The toolkit has built-in tests for a number of parametric conditions that can be shown to result in various characteristics in the optimal solution.</p>
<p>Perhaps the most interesting such condition is the <a class="reference external" href="http://econ.jhu.edu/people/ccarroll/Papers/BufferStockTheory/#GIC">“Growth Impatience Condition”</a>: If this condition is satisfied, the consumer’s optimal behavior is to aim to achieve a “target” value of <span class="math notranslate nohighlight">\(m\)</span>, to serve as a precautionary buffer against income shocks.</p>
<p>The tests can be invoked using the <code class="docutils literal notranslate"><span class="pre">checkConditions()</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">IndShockExample</span><span class="o">.</span><span class="n">check_conditions</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFRaw                 = 0.984539 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFNrm                 = 0.993777 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>GPFAggLivPrb           = 0.964848 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Thorn = APF            = 0.994384 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PermGroFacAdj          = 1.000611 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>uInvEpShkuInv          = 0.990704 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>VAF                    = 0.932054 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>WRPF                   = 0.213705 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiscFacGPFNrmMax       = 0.972061 
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DiscFacGPFAggLivPrbMax = 1.010600 
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="FisherTwoPeriod.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">The Fisher Two-Period Optimal Consumption Problem</p>
      </div>
    </a>
    <a class="right-next"
       href="Gentle-Intro-To-HARK-PerfForesightCRRA.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">A Gentle Introduction to HARK: The Perfect Foresight Model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-consumer-s-problem-with-transitory-and-permanent-shocks">The Consumer’s Problem with Transitory and Permanent Shocks</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mathematical-description">Mathematical Description</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#representing-the-income-shocks">Representing the Income Shocks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-new-parameters">The New Parameters</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#representation-in-hark">Representation in HARK</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#other-attributes-are-inherited-from-perfforesightconsumertype">Other Attributes are Inherited from PerfForesightConsumerType</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-discretized-probability-distribution">The Discretized Probability Distribution</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solution-by-backwards-induction">Solution by Backwards Induction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solving-the-problem">Solving the problem</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#finite-or-infinite-horizon">Finite or Infinite Horizon?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-constructed-attributes">Changing Constructed Attributes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#buffer-stock-saving">Buffer Stock Saving?</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Econ-ARK Team
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>